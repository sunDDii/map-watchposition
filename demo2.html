<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title>前端定位模块</title>
	</head>
	<body>
		<button>定位</button>
		X:<p class="x"></p>
		Y：<p class="y"></p>
	<script type="text/javascript" src="js/jquery-1.11.0.js" ></script>
	<script type="text/javascript" src="https://3gimg.qq.com/lightmap/components/geolocation/geolocation.min.js"></script>
	<script>
		//采用腾讯地图中实时位置的监听
		var geolocation = new qq.maps.Geolocation("D6NBZ-JIBKQ-6OL5A-GNSXW-EBCSH-Q5FUP", "realtimeLocation");
		document.addEventListener("WeixinJSBridgeReady", function () {		
			geolocation.watchPosition(showPosition)	
		}, false);		
        function showPosition(position) {
        	console.log(position.lat)
        	$('.x').text(position.lat)
        	$('.y').text(position.lng)
        };        
	
		//HTML5 地理定位
//		getLocation();
//		function getLocation(){
//		if (navigator.geolocation){
//		    navigator.geolocation.getCurrentPosition(showPosition);
//		}else{
//			 $('.x').text("Geolocation is not supported by this browser.");
//		}
//		}
//		function showPosition(position){
//		   $('.x').text(position.coords.latitude);
//		   $('.y').text(position.coords.longitude);	
//		}
//		 document.addEventListener("WeixinJSBridgeReady",function(){
//		 	navigator.geolocation.watchPosition(showPosition)
//		 },false)
		
	</script>
	</body>
</html>
